<!DOCTYPE html>
<html lang="en">

    <head>

        <title>NGL</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

        <link rel="stylesheet" href="../css/font-awesome.min.css" />
        <link rel="stylesheet" href="../css/main.css" />
        <link rel="stylesheet" href="../css/dark.css" id="theme" />

    </head>

    <body>

        <script src="../js/build/ngl.full.min.js"></script>
        <script src="../js/examples.js"></script>

        <script>

            if( !Detector.webgl ) Detector.addGetWebGLMessage();

            // Datasources

            NGL.DatasourceRegistry.add(
                "data", new NGL.ExampleDatasource( "../" )
            );
            NGL.DatasourceRegistry.add(
                "file", new NGL.FileDatasource( "../" )
            );
            NGL.DatasourceRegistry.listing = NGL.DatasourceRegistry.get( "file" );
            NGL.DatasourceRegistry.trajectory = new NGL.TrajectoryDatasource( "../" );

            // Plugins

            NGL.PluginRegistry.add(
                "apbs", "data://plugins/apbs.plugin"
            );
            NGL.PluginRegistry.add(
                "crosslink", "data://plugins/crosslink.plugin"
            );

            //

            function onInit(){
                var stage = new NGL.Stage();
                NGL.StageWidget( stage );

                var example = NGL.GET( "example" );
                if( example ) NGL.Examples.load( example, stage );

                var load = NGL.GET( "load" );
                if( load ) stage.loadFile( load, { defaultRepresentation: true } );

                var plugin = NGL.GET( "plugin" );
                if( plugin ) NGL.PluginRegistry.load( plugin, stage );
            }

            document.addEventListener( "DOMContentLoaded", function(){
                NGL.init( onInit );
            } );

        </script>

        <script src="../js/tracking.js"></script>

    </body>

</html>
