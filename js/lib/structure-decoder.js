var decodeStructure=function(){"use strict";function t(t){function r(t){for(var r={},e=0;t>e;e++){var n=o();r[n]=o()}return r}function e(r){var e=t.subarray(i,i+r);return i+=r,e}function n(r){var e=t.subarray(i,i+r),n=String.fromCharCode.apply(null,e);return i+=r,n}function a(t){for(var r=new Array(t),e=0;t>e;e++)r[e]=o();return r}function o(){var o,s,c,f=t[i];if(0===(128&f))return i++,f;if(128===(240&f))return s=15&f,i++,r(s);if(144===(240&f))return s=15&f,i++,a(s);if(160===(224&f))return s=31&f,i++,n(s);if(224===(224&f))return o=u.getInt8(i),i++,o;switch(f){case 192:return i++,null;case 194:return i++,!1;case 195:return i++,!0;case 196:return s=u.getUint8(i+1),i+=2,e(s);case 197:return s=u.getUint16(i+1),i+=3,e(s);case 198:return s=u.getUint32(i+1),i+=5,e(s);case 199:return s=u.getUint8(i+1),c=u.getUint8(i+2),i+=3,[c,e(s)];case 200:return s=u.getUint16(i+1),c=u.getUint8(i+3),i+=4,[c,e(s)];case 201:return s=u.getUint32(i+1),c=u.getUint8(i+5),i+=6,[c,e(s)];case 202:return o=u.getFloat32(i+1),i+=5,o;case 203:return o=u.getFloat64(i+1),i+=9,o;case 204:return o=t[i+1],i+=2,o;case 205:return o=u.getUint16(i+1),i+=3,o;case 206:return o=u.getUint32(i+1),i+=5,o;case 207:return i+=9,0;case 208:return o=u.getInt8(i+1),i+=2,o;case 209:return o=u.getInt16(i+1),i+=3,o;case 210:return o=u.getInt32(i+1),i+=5,o;case 211:return i+=9,0;case 212:return c=u.getUint8(i+1),i+=2,[c,e(1)];case 213:return c=u.getUint8(i+1),i+=2,[c,e(2)];case 214:return c=u.getUint8(i+1),i+=2,[c,e(4)];case 215:return c=u.getUint8(i+1),i+=2,[c,e(8)];case 216:return c=u.getUint8(i+1),i+=2,[c,e(16)];case 217:return s=u.getUint8(i+1),i+=2,n(s);case 218:return s=u.getUint16(i+1),i+=3,n(s);case 219:return s=u.getUint32(i+1),i+=5,n(s);case 220:return s=u.getUint16(i+1),i+=3,a(s);case 221:return s=u.getUint32(i+1),i+=5,a(s);case 222:return s=u.getUint16(i+1),i+=3,r(s);case 223:return s=u.getUint32(i+1),i+=5,r(s)}throw new Error("Unknown type 0x"+f.toString(16))}var i=0,u=new DataView(t.buffer);return o()}function r(t,r){var e=new DataView(t.buffer),n=t.byteOffset,a=t.byteLength;r||(r=new Int8Array(a));for(var o=0;a>o;++o)r[o]=e.getInt8(n+o);return r}function e(t,r,e){var n=new DataView(t.buffer),a=t.byteOffset,o=t.byteLength;r||(r=new Int16Array(o/2));for(var i=0,u=o/2;u>i;++i)r[i]=n.getInt16(a+2*i,e);return r}function n(t,r,e){var n=new DataView(t.buffer),a=t.byteOffset,o=t.byteLength;r||(r=new Int32Array(o/4));for(var i=0,u=o/4;u>i;++i)r[i]=n.getInt32(a+4*i,e);return r}function a(t,r,e){var n=t.length,a=1/r;e||(e=new Float32Array(n));for(var o=0;n>o;++o)e[o]=t[o]*a;return e}function o(t,r){var e,n;if(!r){var a=0;for(e=0,n=t.length;n>e;e+=2)a+=t[e+1];r=new t.constructor(a)}var o=0;for(e=0,n=t.length;n>e;e+=2)for(var i=t[e],u=t[e+1],s=0;u>s;++s)r[o]=i,o+=1;return r}function i(t){for(var r=1,e=t.length;e>r;++r)t[r]+=t[r-1];return t}function u(t,r,e){var n=t.length/2+r.length;e||(e=new Int32Array(n));for(var a=0,o=0,i=0,u=t.length;u>i;i+=2){var s=t[i],c=t[i+1];e[a]=s,0!==i&&(e[a]+=e[a-1]),a+=1;for(var f=0;c>f;++f)e[a]=e[a-1]+r[o],a+=1,o+=1}return e}function s(t,r,o,i,s){var c;i&&(c=new Int32Array(i.buffer,i.byteOffset,i.byteLength/4));var f=u(n(t,void 0,s),e(r,void 0,s),c);return a(f,o,i)}function c(t,r){for(var e,n=t.resOrder,a=n.byteOffset,o=n.byteLength,i=new DataView(n.buffer),u=0,s=0,c=o/4;c>s;++s)e=i.getInt32(a+4*s,r),u+=t.groupMap[e].bondOrders.length;return u}function f(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var a=t(e);console.log(a);var u,f,_,g,y=c(a),b=a.numAtoms,d=a.resOrder.length/4,w=a.chainList.length/4,U=a.chainsPerModel.length,v=a.groupMap,h=new Uint32Array(y+d),A=new Uint32Array(y+d),m=new Uint8Array(y+d),p=new Uint32Array(b),I=new Float32Array(b),C=new Float32Array(b),O=new Float32Array(b),x=new Float32Array(b),S=new Int32Array(b),F=new Uint8Array(b),L=new Uint32Array(d),D=new Uint32Array(d),M=new Uint16Array(d),V=new Uint16Array(d),z=new Int32Array(d),P=new Uint8Array(d),G=new Uint16Array(w),k=new Uint32Array(w),q=new Uint32Array(w),B=new Uint8Array(4*w),E=new Uint32Array(U),T=new Uint32Array(U);if(s(a.cartn_x_big,a.cartn_x_small,1e3,I),s(a.cartn_y_big,a.cartn_y_small,1e3,C),s(a.cartn_z_big,a.cartn_z_small,1e3,O),a.b_factor_big&&s(a.b_factor_big,a.b_factor_small,100,x),a._atom_site_id&&i(o(n(a._atom_site_id),S)),a._atom_site_label_alt_id){for(u=0,f=a._atom_site_label_alt_id.length;f>u;u+=2){var j=a._atom_site_label_alt_id[u];"?"===j?a._atom_site_label_alt_id[u]=0:a._atom_site_label_alt_id[u]=a._atom_site_label_alt_id[u].charCodeAt(0),a._atom_site_label_alt_id[u+1]=parseInt(a._atom_site_label_alt_id[u+1])}o(a._atom_site_label_alt_id,F)}r(a.chainList,B);var H,J=a.chainsPerModel,K=0;for(u=0;U>u;++u){for(H=J[u],E[u]=K,T[u]=H,_=0;H>_;++_)G[_+K]=u;K+=H}var N,Q=a.groupsPerChain,R=0;for(u=0;w>u;++u){for(N=Q[u],k[u]=R,q[u]=N,_=0;N>_;++_)L[_+R]=u;R+=N}i(o(n(a._atom_site_auth_seq_id),z));var W=n(a.resOrder,V),X=r(a.secStruct),Y=0,Z=0;for(u=0;d>u;++u){var $=v[W[u]],tt=$.atomInfo,rt=tt.length/2,et=$.bondIndices,nt=$.bondOrders;for(_=0,g=nt.length;g>_;++_)h[Z]=Y+et[2*_],A[Z]=Y+et[2*_+1],m[Z]=nt[_],Z+=1;for(P[u]=(l[X[u]]||"l").charCodeAt(),D[u]=Y,M[u]=rt,_=0;rt>_;++_)p[Y]=u,Y+=1}return{bondStore:{atomIndex1:h,atomIndex2:A,bondOrder:m},atomStore:{groupIndex:p,x:I,y:C,z:O,bfactor:x,serial:S,altloc:F},groupStore:{chainIndex:L,atomOffset:D,atomCount:M,groupTypeId:V,resno:z,sstruc:P},chainStore:{modelIndex:G,groupOffset:k,groupCount:q,chainname:B},modelStore:{chainOffset:E,chainCount:T},groupMap:v,unitCell:a.unitCell,spaceGroup:a.spaceGroup,bioAssembly:a.bioAssembly,pdbCode:a.pdbCode,title:a.title,bondCount:y,atomCount:b,groupCount:d,chainCount:w,modelCount:U}}var l={0:"i",1:"s",2:"h",3:"e",4:"g",5:"b",6:"t",7:"l","-1":""};return f}();